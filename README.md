# üöÄ Microservices Architecture Project

[![.NET](https://img.shields.io/badge/.NET-5C2D91?style=for-the-badge&logo=.net&logoColor=white)](https://dotnet.microsoft.com/)
[![Ocelot](https://img.shields.io/badge/Ocelot-API%20Gateway-blue?style=for-the-badge)](https://github.com/ThreeMammals/Ocelot)
[![SQL Server](https://img.shields.io/badge/SQL%20Server-CC2927?style=for-the-badge&logo=microsoft-sql-server&logoColor=white)](https://www.microsoft.com/en-us/sql-server)
[![Microservices](https://img.shields.io/badge/Architecture-Microservices-green?style=for-the-badge)](https://microservices.io/)

> **A beginner-friendly microservices project demonstrating modern distributed architecture patterns with Ocelot API Gateway and lightweight APIs.**

---

## üìã Table of Contents

- [üéØ Project Overview](#-project-overview)
- [üèóÔ∏è Architecture](#Ô∏è-architecture)
- [‚ú® Features](#-features)
- [üõ†Ô∏è Technology Stack](#Ô∏è-technology-stack)
- [üìÅ Project Structure](#-project-structure)
- [üöÄ Getting Started](#-getting-started)
- [‚öôÔ∏è Configuration](#Ô∏è-configuration)
- [üìñ Learning Guide](#-learning-guide)
- [ü§ù Contributing](#-contributing)

---

## üéØ Project Overview

This project demonstrates a **microservices architecture** implementation using modern .NET technologies. It's designed as an educational resource for developers who want to understand and implement their first microservices project.

### üéØ Why This Project?

- **Learn by Example**: Real-world implementation of microservices patterns
- **Beginner-Friendly**: Clear separation of concerns and well-documented code
- **Production-Ready**: Uses industry-standard tools and practices
- **Scalable Design**: Easy to extend with additional services

---

## üèóÔ∏è Architecture

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Client Apps   ‚îÇ    ‚îÇ   Mobile Apps   ‚îÇ    ‚îÇ   Web Portal    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò     ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
          ‚îÇ                     ‚îÇ                       ‚îÇ
          ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                ‚îÇ
                       ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                       ‚îÇ  Ocelot Gateway ‚îÇ
                       ‚îÇ   (Port 5000)   ‚îÇ
                       ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                 ‚îÇ
          ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
          ‚îÇ                      ‚îÇ                ‚îÇ                    ‚îÇ
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê 
‚îÇ Authentication  ‚îÇ ‚îÇ Student Service ‚îÇ ‚îÇ  Book Service   ‚îÇ  ‚îÇ  DashboardService  ‚îÇ
‚îÇ   Service       ‚îÇ ‚îÇ   (Port 5112)   ‚îÇ ‚îÇ  (Port 5115)    ‚îÇ  ‚îÇ  (Port 5117)       ‚îÇ
‚îÇ  (Port 5113)    ‚îÇ ‚îÇ                 ‚îÇ ‚îÇ                 ‚îÇ  ‚îÇ                    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ ‚îò
```

### üîß Key Components

- **üõ°Ô∏è Ocelot API Gateway**: Single entry point for all client requests
- **üîê Authentication Service**: Handles user authentication and authorization
- **üë• Student Management Service**: Manages student data and operations
- **üìö Book Management Service**: Handles book inventory and operations
- **üóÑÔ∏è Database per Service**: Each service has its own database

---

## ‚ú® Features

### üöÄ Core Features
- ‚úÖ **Microservices Architecture** - Loosely coupled, independently deployable services
- ‚úÖ **API Gateway** - Centralized routing and cross-cutting concerns
- ‚úÖ **Service Independence** - Each service can be developed, deployed, and scaled independently
- ‚úÖ **Database per Service** - Data isolation and service autonomy
- ‚úÖ **Lightweight APIs** - Fast and efficient service communication

### üõ†Ô∏è Technical Features
- ‚úÖ **Automated Migrations** - Database setup with shell scripts
- ‚úÖ **JSON Configuration** - Simple Ocelot routing configuration
- ‚úÖ **Development Environment** - Ready-to-use development setup
- ‚úÖ **Scalable Design** - Easy to add new services and features

---

## üõ†Ô∏è Technology Stack

| Category | Technology | Purpose |
|----------|------------|---------|
| **Framework** | .NET 6/7/8 | Core application framework |
| **API Gateway** | Ocelot | Request routing and API composition |
| **Database** | SQL Server | Data persistence |
| **ORM** | Entity Framework Core | Data access layer |
| **Authentication** | JWT/Identity | Security and user management |
| **Configuration** | appsettings.json | Environment-specific settings |

---

## üìÅ Project Structure

```
üì¶ MicroservicesLibrarySystem/
‚îú‚îÄ‚îÄ üö™ ApiGateway-microservices/
‚îÇ ‚îî‚îÄ‚îÄ üõ°Ô∏è ApiGateway-microservices/
‚îÇ ‚îú‚îÄ‚îÄ üìÑ ApiGateway-microservices.csproj
‚îÇ ‚îú‚îÄ‚îÄ üìÑ Program.cs
‚îÇ ‚îú‚îÄ‚îÄ üìÑ ocelot.json
‚îÇ ‚îî‚îÄ‚îÄ üìÑ appsettings.json
‚îÇ
‚îú‚îÄ‚îÄ üìö BookService/
‚îÇ ‚îî‚îÄ‚îÄ BookService/
‚îÇ ‚îú‚îÄ‚îÄ üìÑ BookService.csproj
‚îÇ ‚îú‚îÄ‚îÄ üìÑ Program.cs
‚îÇ ‚îú‚îÄ‚îÄ üìÑ Book.cs
‚îÇ ‚îú‚îÄ‚îÄ üìÑ BookModule.cs
‚îÇ ‚îú‚îÄ‚îÄ üìÑ ApplicationDbContext.cs
‚îÇ ‚îî‚îÄ‚îÄ üìÅ Controllers/
‚îÇ
‚îú‚îÄ‚îÄ üìä DashboardService/
‚îÇ ‚îî‚îÄ‚îÄ DashboardService/
‚îÇ ‚îú‚îÄ‚îÄ üìÑ DashboardService.csproj
‚îÇ ‚îú‚îÄ‚îÄ üìÑ Program.cs
‚îÇ ‚îú‚îÄ‚îÄ üìÑ DashboardModule.cs
‚îÇ ‚îî‚îÄ‚îÄ üìÅ Controllers/
‚îÇ
‚îú‚îÄ‚îÄ üë®‚Äçüéì StudentService/
‚îÇ ‚îî‚îÄ‚îÄ StudentService/
‚îÇ ‚îú‚îÄ‚îÄ üìÑ StudentService.csproj
‚îÇ ‚îú‚îÄ‚îÄ üìÑ Program.cs
‚îÇ ‚îú‚îÄ‚îÄ üìÑ Student.cs
‚îÇ ‚îú‚îÄ‚îÄ üìÑ StudentModule.cs
‚îÇ ‚îú‚îÄ‚îÄ üìÑ ApplicationDbContext.cs
‚îÇ ‚îî‚îÄ‚îÄ üìÅ Controllers/
‚îÇ
‚îî‚îÄ‚îÄ üîê UserService/
‚îî‚îÄ‚îÄ UserService/
‚îú‚îÄ‚îÄ üìÑ UserService.csproj
‚îú‚îÄ‚îÄ üìÑ Program.cs
‚îú‚îÄ‚îÄ üìÑ User.cs
‚îú‚îÄ‚îÄ üìÑ UserModule.cs
‚îú‚îÄ‚îÄ üìÅ context/
‚îî‚îÄ‚îÄ üìÅ Controllers/
```

---

## üöÄ Getting Started

### üìã Prerequisites

Before running this project, ensure you have:

- ‚úÖ **.NET 6 SDK** or later installed
- ‚úÖ **SQL Server** (LocalDB or full version)
- ‚úÖ **Visual Studio** or **VS Code**
- ‚úÖ **Git** for version control

### üîß Installation & Setup

#### 1Ô∏è‚É£ Clone the Repository
```bash
git clone https://github.com/yourusername/microservices-project.git
cd microservices-project
```

#### 2Ô∏è‚É£ Configure Database Connection
Before running the project, update the database connection strings in each service:

**üìù Update Connection Strings:**
```json
// In each appsettings.Development.json file
{
  "ConnectionStrings": {
    "DefaultConnection": "Server=YOUR_SERVER_NAME;Database=YOUR_DATABASE_NAME;Trusted_Connection=true;TrustServerCertificate=true;"
  }
}
```

**üîß Files to Update:**
- `AuthenticationService/appsettings.Development.json`
- `StudentService/appsettings.Development.json`
- `BookService/appsettings.Development.json`

#### 3Ô∏è‚É£ Run the Setup Script
```bash
# Make the script executable (Linux/Mac)
chmod +x scripts/setup.sh

# Run the setup script
./scripts/setup.sh
```

> **üí° Note**: The setup script will automatically:
> - Restore NuGet packages for all projects
> - Run database migrations for each service
> - Build all projects

#### 4Ô∏è‚É£ Manual Migration (Alternative)
If you prefer to run migrations manually:

```bash
# Navigate to each service directory and run:
cd AuthenticationService
dotnet ef migrations add "InitialCreate"
dotnet ef database update

cd ../StudentService
dotnet ef migrations add "InitialCreate"
dotnet ef database update

cd ../BookService
dotnet ef migrations add "InitialCreate"
dotnet ef database update
```

---

## ‚öôÔ∏è Configuration

### üõ°Ô∏è Ocelot API Gateway Configuration

The Ocelot gateway uses a simple JSON configuration format:

```json
{
  "Routes": [
    {
      "DownstreamPathTemplate": "/api/auth/{everything}",
      "DownstreamScheme": "https",
      "DownstreamHostAndPorts": [
        {
          "Host": "localhost",
          "Port": 5003
        }
      ],
      "UpstreamPathTemplate": "/auth/{everything}",
      "UpstreamHttpMethod": [ "GET", "POST", "PUT", "DELETE" ]
    },
    {
      "DownstreamPathTemplate": "/api/students/{everything}",
      "DownstreamScheme": "https",
      "DownstreamHostAndPorts": [
        {
          "Host": "localhost",
          "Port": 5001
        }
      ],
      "UpstreamPathTemplate": "/students/{everything}",
      "UpstreamHttpMethod": [ "GET", "POST", "PUT", "DELETE" ]
    }
  ]
}
```

### üìä Service Port Configuration

| Service     | Port  | Base Path            |
|-------------|-------|----------------------|
| Users       | 5113  | `/api/users/`        |
| Students    | 5112  | `/api/students/`     |
| Books       | 5115  | `/api/books/`        |
| Dashboard   | 5117  | `/api/dashboard/`    |
| API Gateway | 5000  | `/api/{service}/...` |


---

## üèÉ‚Äç‚ôÇÔ∏è Running the Project

### üöÄ Start All Services

**Option 1: Using Visual Studio**
1. Set multiple startup projects
2. Select all service projects
3. Press F5 to run

**Option 2: Using Command Line**
```bash
# Terminal 1 - API Gateway
cd ApiGateway
dotnet run

# Terminal 2 - Authentication Service
cd AuthenticationService
dotnet run

# Terminal 3 - Student Service
cd StudentService
dotnet run

# Terminal 4 - Book Service
cd BookService
dotnet run
```

### üîç Testing the Services

Once all services are running, you can test them:

- **API Gateway**: `https://localhost:5000`
- **Swagger UI**: Each service exposes Swagger documentation
- **Health Checks**: `/health` endpoint on each service

---

## üìñ Learning Guide

### üéì For Beginners: Building Your First Microservice

This project is designed to be your stepping stone into microservices architecture. Here's how to approach it:

#### 1Ô∏è‚É£ **Understanding the Architecture**
- Start by examining the project structure
- Understand how each service has its own responsibility
- See how services communicate through HTTP APIs

#### 2Ô∏è‚É£ **Key Concepts to Learn**
- **Service Independence**: Each service can be developed and deployed separately
- **API Gateway Pattern**: Single entry point for all client requests
- **Database per Service**: Data isolation and service autonomy
- **Configuration Management**: Environment-specific settings

#### 3Ô∏è‚É£ **Adding Your Own Service**
To add a new service (e.g., Library Management):

1. Create a new .NET Web API project
2. Add Entity Framework and your models
3. Create controllers and business logic
4. Update the Ocelot configuration
5. Add database migrations
6. Test your service

#### 4Ô∏è‚É£ **Best Practices Demonstrated**
- ‚úÖ Clear separation of concerns
- ‚úÖ RESTful API design
- ‚úÖ Configuration management
- ‚úÖ Database migrations
- ‚úÖ Error handling
- ‚úÖ Swagger documentation

### üéØ Next Steps

After understanding this project, consider exploring:
- **Docker containerization**
- **Service discovery**
- **Circuit breaker patterns**
- **Distributed caching**
- **Message queues**
- **Monitoring and logging**

---

## üß™ Testing

### üîß Running Tests
```bash
# Run all tests
dotnet test

# Run tests for a specific service
dotnet test StudentService.Tests
```

### üìä API Testing
Use tools like:
- **Postman** - For manual API testing
- **Swagger UI** - Built-in API documentation and testing
- **curl** - Command-line testing

Example API calls:
```bash
# Get all students through API Gateway
curl -X GET https://localhost:5000/students

# Create a new student
curl -X POST https://localhost:5000/students \
  -H "Content-Type: application/json" \
  -d '{"name": "John Doe", "email": "john@example.com"}'
```

---

## ü§ù Contributing

We welcome contributions! Here's how you can help:

### üêõ Reporting Issues
- Use GitHub Issues to report bugs
- Provide detailed reproduction steps
- Include environment information

### üí° Feature Requests
- Suggest new features through GitHub Issues
- Explain the use case and benefit

### üîß Pull Requests
1. Fork the repository
2. Create a feature branch
3. Make your changes
4. Add tests if applicable
5. Submit a pull request

---

## üìö Additional Resources

### üìñ Documentation
- [Ocelot Documentation](https://ocelot.readthedocs.io/)
- [.NET Microservices Guide](https://docs.microsoft.com/en-us/dotnet/architecture/microservices/)
- [Entity Framework Core](https://docs.microsoft.com/en-us/ef/core/)

### üéì Learning Materials
- [Microservices.io](https://microservices.io/)
- [Microsoft Microservices Architecture](https://docs.microsoft.com/en-us/azure/architecture/microservices/)

---

## üìÑ Contact Me: 

[![LinkedIn](https://img.shields.io/badge/LinkedIn-Connect-blue?logo=linkedin&style=for-the-badge)](https://www.linkedin.com/in/nischal-silwal-1ba8b2324/)
[![Gmail](https://img.shields.io/badge/Gmail-nischalsilwalhtd@gmail.com-red?logo=gmail&style=for-the-badge)](mailto:nischalsilwalhtd@gmail.com)


---

## üôè Acknowledgments

- Thanks to the Ocelot team for the excellent API Gateway
- Microsoft for the comprehensive .NET ecosystem
- The open-source community for continuous inspiration

---

<div align="center">

### üåü If this project helped you learn microservices, please give it a star! ‚≠ê

**Happy Coding!** üöÄ

</div>

